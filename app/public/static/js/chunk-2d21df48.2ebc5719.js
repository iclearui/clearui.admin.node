(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21df48"],{d402:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.view?n("user-edit",{attrs:{uid:e.uid},model:{value:e.view,callback:function(t){e.view=t},expression:"view"}}):n("a-card",{attrs:{bordered:!1}},[e.menu.buttons?n("c-button-group",{attrs:{slot:"title",buttons:e.menu.buttons.list},on:{click:e.click},slot:"title"}):e._e(),n("a-table",{attrs:{columns:e.table.columns,bordered:"",tableLayout:"fixed",rowKey:"_id",dataSource:e.table.data,size:"small",customRow:e.customRow,pagination:e.table.pagination,loading:e.loading,scroll:{x:1500,y:900}},on:{change:e.onTableChange},scopedSlots:e._u([{key:"action",fn:function(t,a,i){return[n("a-icon",{attrs:{type:"eye"},on:{click:function(t){e.uid=a._id,e.view="view"}}})]}}],null,!1,3025543602)})],1)},i=[],r=(n("96cf"),n("1da1")),o=n("5530"),c=n("2f62"),d=n("c38d"),u={name:"user",components:{UserEdit:d["default"]},data:function(){return{uid:"",view:"",loading:!0,table:{pagination:{showSizeChanger:!0,showQuickJumper:!0,total:0},query:{order:"_id",limit:10,page:1,populate:"idUser"},columns:[{title:"序号",align:"center",fixed:"left",width:60,customRender:function(e,t,n){return n+1}},{title:"手机",width:200,align:"center",customRender:function(e,t,n){return t.idUser.userCode}},{title:"姓名",width:200,key:"userName",align:"center",customRender:function(e,t,n){return t.idUser.userName}},{title:"性别",width:100,key:"sex",align:"center",customRender:function(e,t,n){switch(t.sex){case"M":return"男";case"F":return"女";default:return"未知"}}},{title:"所属部门",align:"center",width:100,customRender:function(e,t,n){return t.idBranch?t.idBranch.branchName:"未知"}},{title:"工号",width:150,dataIndex:"workNo",key:"workNo",align:"center"},{title:"职位",width:150,dataIndex:"job",key:"job",align:"center"},{title:"民族",width:100,dataIndex:"nationality",key:"nationality",align:"center"},{title:"婚姻状况",width:100,key:"maritalStatus",align:"center",customRender:function(e,t,n){switch(t.maritalStatus){case"married":return"已婚";case"unmarried":return"未婚";default:return"未知"}}},{title:"证件类型",width:100,dataIndex:"idType",key:"idType",align:"center"},{title:"证件号",width:200,dataIndex:"idNo",key:"idNo",align:"center"},{title:"政治面貌",width:150,dataIndex:"polity",key:"polity",align:"center"},{title:"籍贯",width:200,dataIndex:"nativePlace",key:"nativePlace",align:"center"},{title:"户籍地址",width:400,dataIndex:"permanentAddress",key:"permanentAddress",align:"center"},{title:"现居住址",width:400,key:"address",align:"center"},{title:"备注",width:200,key:"memo",align:"center"},{title:"操作",align:"center",fixed:"right",width:100,key:"action",scopedSlots:{customRender:"action"}}],data:[]}}},created:function(){this.loadData()},computed:Object(o["a"])({},Object(c["c"])(["menu"])),watch:{view:function(e){e||(this.uid="",this.loadData())}},methods:{click:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:n.t0=e,n.next="create"===n.t0?3:6;break;case 3:return t.uid="",t.view="modify",n.abrupt("break",7);case 6:return n.abrupt("break",7);case 7:case"end":return n.stop()}}),n)})))()},customRow:function(e,t){var n=this;return{on:{dblclick:function(){n.uid=e._id,n.view="view"}}}},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$helper.model("org_organ_user").get({params:e.table.query});case 3:n=t.sent,e.table.data=n.records,e.table.pagination.total=n.count,e.loading=!1;case 7:case"end":return t.stop()}}),t)})))()},editClose:function(){this.$refs.form.resetFields(),this.visible=!1},onTableChange:function(e,t,n){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.table.query.page=e.current,a.table.query.limit!==e.pageSize&&(a.table.query.limit=e.pageSize,a.table.query.page=1),n.field&&(i="ascend"===n.order?n.field:"-"+n.field,a.table.query.order!==i&&(a.table.query.order=i,a.table.query.page=1)),t.next=5,a.loadData();case 5:case"end":return t.stop()}}),t)})))()}}},l=u,s=n("2877"),w=Object(s["a"])(l,a,i,!1,null,"09ba5f21",null);t["default"]=w.exports}}]);