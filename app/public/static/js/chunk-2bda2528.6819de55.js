(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bda2528","chunk-2d0e6713","chunk-2d225029","chunk-2d0d3524"],{"5bef":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("a-modal",{attrs:{title:"专家评审",visible:e.value,width:"50%"},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-form-model",{ref:"form",attrs:{labelAlign:"left",model:e.form.model,rules:e.form.rules,"label-col":e.form.labelCol,"wrapper-col":e.form.wrapperCol,disabled:"view"===e.value}},[t("a-row",{attrs:{gutter:12}},[t("a-col",{attrs:{span:24}},[t("a-form-model-item",{attrs:{label:"指定律师"}},[t("a-select",{attrs:{showSearch:"",placeholder:"选择成员",filterOption:!1,notFoundContent:e.users.loading?void 0:null},on:{search:e.onSearchUser},model:{value:e.form.model.idLawyer,callback:function(r){e.$set(e.form.model,"idLawyer",r)},expression:"form.model.idLawyer"}},[e.users.loading?t("a-spin",{attrs:{slot:"notFoundContent",size:"small"},slot:"notFoundContent"}):e._e(),e._l(e.users.data,(function(r){return t("a-select-option",{key:r._id},[e._v(e._s(r.userCode+" "+r.userName))])}))],2)],1)],1)],1)],1)],1)},o=[],l=(t("96cf"),t("1da1")),n={name:"signup",props:{value:{type:Boolean,required:!1,default:!1},uid:{type:[String,Object]}},data:function(){return{users:{loading:!1,data:[]},form:{labelCol:{span:5},wrapperCol:{span:19},model:{},rules:{type:[{required:!0,message:"必填",trigger:"blur"}]}}}},methods:{onSearchUser:function(e){var r=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.users.loading=!0,t.next=3,r.$helper.model("sys_user").get({order:"_id",like:e,likeBy:"userCode,userName"});case 3:r.users.data=t.sent.records,r.users.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},handleOk:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.form.model.__s=4,e.$forceUpdate(),r.next=4,e.$helper.model("fxe_dispute").patch(e.uid,e.form.model);case 4:e.$emit("input",!1),e.$emit("refresh");case 6:case"end":return r.stop()}}),r)})))()},handleCancel:function(){this.$emit("input",!1),this.$emit("refresh")}}},s=n,i=t("2877"),u=Object(i["a"])(s,a,o,!1,null,"8fdb44a4",null);r["default"]=u.exports},9985:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("a-modal",{attrs:{title:"内部评审",visible:e.value,width:"50%"},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-form-model",{ref:"form",attrs:{labelAlign:"left",model:e.form.model,rules:e.form.rules,"label-col":e.form.labelCol,"wrapper-col":e.form.wrapperCol,disabled:"view"===e.value}},[t("a-row",{attrs:{gutter:12}},[t("a-col",{attrs:{span:24}},[t("a-form-model-item",{attrs:{label:"评审通过"}},[t("a-radio-group",{attrs:{disabled:"view"===e.value},model:{value:e.form.model.__s,callback:function(r){e.$set(e.form.model,"__s",r)},expression:"form.model.__s"}},[t("a-radio",{attrs:{value:"2"}},[e._v("是")]),t("a-radio",{attrs:{value:"0"}},[e._v("否")])],1)],1)],1),t("a-col",{attrs:{span:24}},[t("a-form-model-item",{attrs:{label:"评审意见"}},[t("a-textarea",{attrs:{placeholder:"评审意见","allow-clear":"",disabled:"view"===e.value},model:{value:e.form.model.iAdvise,callback:function(r){e.$set(e.form.model,"iAdvise",r)},expression:"form.model.iAdvise"}})],1)],1)],1)],1)],1)},o=[],l=(t("96cf"),t("1da1")),n={name:"iverify",props:{value:{type:Boolean,required:!1,default:!1},uid:{type:[String,Object]}},data:function(){return{form:{labelCol:{span:5},wrapperCol:{span:19},model:{},rules:{type:[{required:!0,message:"必填",trigger:"blur"}]}}}},methods:{handleOk:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$helper.model("fxe_dispute").patch(e.uid,e.form.model);case 2:e.$emit("input",!1),e.$emit("refresh");case 4:case"end":return r.stop()}}),r)})))()},handleCancel:function(){this.$emit("input",!1),this.$emit("refresh")}}},s=n,i=t("2877"),u=Object(i["a"])(s,a,o,!1,null,"0e8563dc",null);r["default"]=u.exports},e327:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("a-modal",{attrs:{title:"专家评审",visible:e.value,width:"50%"},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-form-model",{ref:"form",attrs:{labelAlign:"left",model:e.form.model,rules:e.form.rules,"label-col":e.form.labelCol,"wrapper-col":e.form.wrapperCol,disabled:"view"===e.value}},[t("a-row",{attrs:{gutter:12}},[t("a-col",{attrs:{span:24}},[t("a-form-model-item",{attrs:{label:"评审意见"}},[t("a-textarea",{attrs:{placeholder:"评审意见","allow-clear":"",disabled:"view"===e.value},model:{value:e.form.model.oAdvise,callback:function(r){e.$set(e.form.model,"oAdvise",r)},expression:"form.model.oAdvise"}})],1)],1)],1)],1)],1)},o=[],l=(t("96cf"),t("1da1")),n={name:"oVerify",props:{value:{type:Boolean,required:!1,default:!1},uid:{type:[String,Object]}},data:function(){return{form:{labelCol:{span:5},wrapperCol:{span:19},model:{},rules:{type:[{required:!0,message:"必填",trigger:"blur"}]}}}},methods:{handleOk:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.form.model.__s=3,r.next=3,e.$helper.model("fxe_dispute").patch(e.uid,e.form.model);case 3:e.$emit("input",!1),e.$emit("refresh");case 5:case"end":return r.stop()}}),r)})))()},handleCancel:function(){this.$emit("input",!1),this.$emit("refresh")}}},s=n,i=t("2877"),u=Object(i["a"])(s,a,o,!1,null,"7494ea87",null);r["default"]=u.exports},f89b:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("a-card",[e.menu.buttons?t("c-button-group",{attrs:{slot:"title",buttons:e.menu.buttons.edit,showSave:"view"!==e.value,showBack:""},on:{click:e.click},slot:"title"}):e._e(),t("a-row",{staticStyle:{"margin-bottom":"12px"},attrs:{type:"flex",justify:"space-between"}},[-1===e.form.model.__s?t("a-tag",{attrs:{color:"pink"}},[e._v(" 已拒绝 ")]):0===e.form.model.__s?t("a-tag",{attrs:{color:"red"}},[e._v(" 待补齐资料 ")]):1===e.form.model.__s?t("a-tag",{attrs:{color:"orange"}},[e._v(" 待内部评审 ")]):2===e.form.model.__s?t("a-tag",{attrs:{color:"green"}},[e._v(" 待专家评审 ")]):3===e.form.model.__s?t("a-tag",{attrs:{color:"blue"}},[e._v(" 待签约 ")]):4===e.form.model.__s?t("a-tag",{attrs:{color:"purple"}},[e._v(" 已签约 ")]):e._e(),t("div",[e._v("承办人： "),4===e.form.model.__s?t("a-tag",{attrs:{color:"purple"}},[e._v(" "+e._s(e.form.model.idLawyer.userName)+" ")]):e._e()],1)],1),t("a-form-model",{ref:"form",attrs:{labelAlign:"left",model:e.form.model,rules:e.form.rules,"label-col":e.form.labelCol,"wrapper-col":e.form.wrapperCol,disabled:"view"===e.value}},[t("a-row",{attrs:{gutter:12}},[t("a-col",{attrs:{span:6}},[t("a-form-model-item",{attrs:{label:"标识编码"}},[t("a-input",{attrs:{placeholder:"标识编码",disabled:"view"===e.value},model:{value:e.form.model.code,callback:function(r){e.$set(e.form.model,"code",r)},expression:"form.model.code"}})],1)],1),t("a-col",{attrs:{span:6}},[t("a-form-model-item",{attrs:{label:"债权人"}},[t("a-input",{attrs:{placeholder:"债权人",disabled:"view"===e.value},model:{value:e.form.model.creditor,callback:function(r){e.$set(e.form.model,"creditor",r)},expression:"form.model.creditor"}})],1)],1),t("a-col",{attrs:{span:6}},[t("a-form-model-item",{attrs:{label:"债务人"}},[t("a-input",{attrs:{placeholder:"债务人",disabled:"view"===e.value},model:{value:e.form.model.debtor,callback:function(r){e.$set(e.form.model,"debtor",r)},expression:"form.model.debtor"}})],1)],1),t("a-col",{attrs:{span:6}},[t("a-form-model-item",{attrs:{label:"联系方式"}},[t("a-input",{attrs:{placeholder:"联系方式",disabled:"view"===e.value},model:{value:e.form.model.contract,callback:function(r){e.$set(e.form.model,"contract",r)},expression:"form.model.contract"}})],1)],1),t("a-col",{attrs:{span:6}},[t("a-form-model-item",{attrs:{label:"联系地址"}},[t("a-input",{attrs:{placeholder:"联系地址",disabled:"view"===e.value},model:{value:e.form.model.address,callback:function(r){e.$set(e.form.model,"address",r)},expression:"form.model.address"}})],1)],1),t("a-col",{attrs:{span:6}},[t("a-form-model-item",{attrs:{label:"执行标的"}},[t("a-input",{attrs:{placeholder:"执行标的",disabled:"view"===e.value},model:{value:e.form.model.target,callback:function(r){e.$set(e.form.model,"target",r)},expression:"form.model.target"}})],1)],1),t("a-col",{attrs:{span:6}},[t("a-form-model-item",{attrs:{label:"执行法院"}},[t("a-input",{attrs:{placeholder:"执行法院",disabled:"view"===e.value},model:{value:e.form.model.court,callback:function(r){e.$set(e.form.model,"court",r)},expression:"form.model.court"}})],1)],1),t("a-col",{attrs:{span:6}},[t("a-form-model-item",{attrs:{label:"执行状态"}},[t("a-input",{attrs:{placeholder:"执行状态",disabled:"view"===e.value},model:{value:e.form.model.caseState,callback:function(r){e.$set(e.form.model,"caseState",r)},expression:"form.model.caseState"}})],1)],1),t("a-col",{attrs:{span:24}},[t("a-form-model-item",{attrs:{label:"简介"}},[t("a-textarea",{attrs:{placeholder:"简介","allow-clear":"",disabled:"view"===e.value},model:{value:e.form.model.desc,callback:function(r){e.$set(e.form.model,"desc",r)},expression:"form.model.desc"}})],1)],1),t("a-col",{attrs:{span:24}},["modify"===e.value?t("a-upload-dragger",{attrs:{name:"file",multiple:!0,action:e.$url.file.upload,"default-file-list":e.defaultFileList,disabled:"view"===e.value},on:{change:e.handleChange}},[t("p",{staticClass:"ant-upload-drag-icon"},[t("a-icon",{attrs:{type:"inbox"}})],1),t("p",{staticClass:"ant-upload-text"},[e._v(" 单击或拖动文件到此区域以上传 ")])]):t("a-form-model-item",{attrs:{label:"附件下载"}},e._l(e.defaultFileList,(function(r){return t("a",{key:r.uid,attrs:{href:r.url}},[e._v(" "+e._s(r.name)+" ")])})),0)],1)],1)],1),t("a-divider"),t("a-tabs",{attrs:{"default-active-key":"1"}},[t("a-tab-pane",{key:"1",attrs:{tab:"内部评审"}},[e._v(e._s(e.form.model.iAdvise))]),t("a-tab-pane",{key:"2",attrs:{tab:"专家评审","force-render":""}},[e._v(e._s(e.form.model.oAdvise))])],1),t("i-verify",{attrs:{uid:e.form.model._id},on:{refresh:function(r){return e.loadData(e.form.model._id)}},model:{value:e.buttons.iverify,callback:function(r){e.$set(e.buttons,"iverify",r)},expression:"buttons.iverify"}}),t("o-verify",{attrs:{uid:e.form.model._id},on:{refresh:function(r){return e.loadData(e.form.model._id)}},model:{value:e.buttons.overify,callback:function(r){e.$set(e.buttons,"overify",r)},expression:"buttons.overify"}}),t("sign-up",{attrs:{uid:e.form.model._id},on:{refresh:function(r){return e.loadData(e.form.model._id)}},model:{value:e.buttons.signup,callback:function(r){e.$set(e.buttons,"signup",r)},expression:"buttons.signup"}})],1)},o=[],l=(t("c740"),t("d81d"),t("a434"),t("b0c0"),t("b85c")),n=(t("96cf"),t("1da1")),s=t("5530"),i=t("2f62"),u=t("9985"),d=t("e327"),c=t("5bef"),m={name:"edit",components:{IVerify:u["default"],OVerify:d["default"],SignUp:c["default"]},props:{value:{type:String},uid:{type:[String,Object]}},data:function(){return{buttons:{},defaultFileList:[],form:{labelCol:{span:5},wrapperCol:{span:19},model:{idFiles:[]},rules:{type:[{required:!0,message:"必填",trigger:"blur"}]}}}},computed:Object(s["a"])({},Object(i["c"])(["menu"])),watch:{value:function(e){this.$refs.form.resetFields(),"create"!==e&&this.form.model._id&&this.loadData(this.form.model._id)},uid:function(e){e&&this.loadData(e)}},mounted:function(){this.uid&&(this.$refs.form.resetFields(),this.loadData(this.uid))},methods:{click:function(e){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=e,t.next="modify"===t.t0?3:"remove"===t.t0?5:"back"===t.t0?8:"conserve"===t.t0?10:"cancel"===t.t0?13:"iverify"===t.t0?18:"overify"===t.t0?24:"signup"===t.t0?30:34;break;case 3:return r.$emit("input","modify"),t.abrupt("break",35);case 5:return t.next=7,r.remove(r.form.model);case 7:return t.abrupt("break",35);case 8:return r.backList(),t.abrupt("break",35);case 10:return t.next=12,r.conserve(r.form.model);case 12:return t.abrupt("break",35);case 13:if(!r.uid){t.next=16;break}return r.$emit("input","view"),t.abrupt("return");case 16:return r.backList(),t.abrupt("break",35);case 18:if(1===r.form.model.__s){t.next=21;break}return r.$message.error("案件前置执行状态不正确！无法执行此操作"),t.abrupt("return");case 21:return r.buttons.iverify=!0,r.$forceUpdate(),t.abrupt("break",35);case 24:if(2===r.form.model.__s){t.next=27;break}return r.$message.error("案件前置执行状态不正确！无法执行此操作"),t.abrupt("return");case 27:return r.buttons.overify=!0,r.$forceUpdate(),t.abrupt("break",35);case 30:return 3!==r.form.model.__s&&r.$message.error("案件前置执行状态不正确！无法执行此操作"),r.buttons.signup=!0,r.$forceUpdate(),t.abrupt("break",35);case 34:return t.abrupt("break",35);case 35:case"end":return t.stop()}}),t)})))()},backList:function(){this.form.model={},this.$emit("input","")},handleChange:function(e){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=e.file.status,t.next="uploading"===t.t0?3:"removed"===t.t0?4:"error"===t.t0?6:"done"===t.t0?8:12;break;case 3:return t.abrupt("break",13);case 4:return r.form.model.idFiles.splice(r.form.model.idFiles.map((function(e){return e.idFile})).findIndex((function(r){return r===e.file.response?e.file.response.records[0]._id:e.file.uid})),1),t.abrupt("break",13);case 6:return r.$message.error("".concat(e.file.name," 文件上传失败！")),t.abrupt("break",13);case 8:return e.file.url=r.$url.file.preview+e.file.response.records[0]._id,r.form.model.idFiles.push({idFile:e.file.response.records[0]._id}),r.$message.success("".concat(e.file.name," 文件上传成功！")),t.abrupt("break",13);case 12:return t.abrupt("break",13);case 13:a=Object(l["a"])(e.fileList);try{for(a.s();!(o=a.n()).done;)n=o.value,n.response&&(n.url=r.$url.file.preview+n.response.records[0]._id)}catch(s){a.e(s)}finally{a.f()}case 15:case"end":return t.stop()}}),t)})))()},loadData:function(e){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.$helper.model("fxe_dispute").getByID(e,{params:{populate:"idFiles.idFile"}});case 2:r.form.model=t.sent.records[0],r.defaultFileList=[],a=Object(l["a"])(r.form.model.idFiles);try{for(a.s();!(o=a.n()).done;)n=o.value,r.defaultFileList.push({uid:n.idFile._id,status:"done",name:n.idFile.fileName,url:r.$url.file.preview+n.idFile._id})}catch(s){a.e(s)}finally{a.f()}case 6:case"end":return t.stop()}}),t)})))()},conserve:function(e){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.businessType="XZZX",r.$refs.form.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=17;break}if(!e._id){t.next=8;break}return t.next=4,r.$helper.model("fxe_dispute").put(e._id,e);case 4:return t.next=6,r.loadData(e._id);case 6:t.next=14;break;case 8:return t.t0=r,t.next=11,r.$helper.model("fxe_dispute").post(e);case 11:return t.t1=t.sent.records._id,t.next=14,t.t0.loadData.call(t.t0,t.t1);case 14:r.$emit("input","view"),t.next=20;break;case 17:r.$message.error("数据有误，请检查后重新提交！！！"),r.loading=!0,setTimeout((function(){r.loading=!1}),1e3);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()},remove:function(e){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.$helper.model("fxe_dispute").delete(e._id);case 2:r.$message.success("数据删除成功"),r.backList();case 4:case"end":return t.stop()}}),t)})))()}}},f=m,p=t("2877"),b=Object(p["a"])(f,a,o,!1,null,"a5ec469e",null);r["default"]=b.exports}}]);